<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>
        Dashboard Overview
    </title>
    <script src="https://cdn.tailwindcss.com">
    </script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
</head>
<body class="bg-gray-100 font-sans leading-normal tracking-normal">
<div class="flex">
    <!-- Sidebar -->
    <div class="w-64 bg-gray-900 h-screen">
        <div class="p-4 text-white text-2xl font-bold">
            dashlite
        </div>
        <nav class="mt-10">
            <a class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 text-white" href="#">
                <i class="fas fa-tachometer-alt mr-3">
                </i>
                Dashboard
            </a>
            <a class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 text-white" href="#">
                <i class="fas fa-book mr-3">
                </i>
                Bookings
            </a>
            <a class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 text-white" href="#">
                <i class="fas fa-bed mr-3">
                </i>
                Room
            </a>

        </nav>
        <div class="mt-10 px-4">
            <a class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 hover:text-white" href="#">
                <i class="fas fa-arrow-left mr-3">
                </i>
                Main Dashboard
            </a>
            <a class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 hover:text-white" href="#">
                <i class="fas fa-th-large mr-3">
                </i>
                All Components
            </a>
        </div>
    </div>
    <div class="d-flex">
        <nav class="sidebar">
            <h4>Admin Panel</h4>
            <ul class="nav flex-column">
                <li class="nav-item"><a class="nav-link" th:href="@{/statistics}">üè† Dashboard</a></li>
                <li class="nav-item"><a class="nav-link active" th:href="@{/rooms}">üè® Rooms</a></li>
                <li class="nav-item"><a class="nav-link" th:href="@{/users}">üë• Users</a></li>
                <li class="nav-item"><a class="nav-link" th:href="@{/bookings}">üìÖ Bookings</a></li>
                <li class="nav-item"><a class="nav-link" th:href="@{/statistics}">üìÖ Statistics</a></li>
            </ul>
        </nav>

        <div class="content">
            <div class="user-menu" onclick="toggleDropdown()">
                <i class="fas fa-user fa-2x"></i>
                <div class="dropdown-menu">
                    <a href="#">Profile</a>
                    <a href="#">Logout</a>
                </div>
            </div>
            <div class="room-container">
                <div class="image-container">
                    <button class="nav-button prev" onclick="prevImage()">&#10094;</button>
                    <div th:if="${room.image != null and not #lists.isEmpty(room.image)}">
                        <img alt="Room Image" class="room-image" th:src="${room.image[0].imageUrl}">
                    </div>
                    <p th:if="${#lists.isEmpty(room.image)}">No images available</p>
                    <button class="nav-button next" onclick="nextImage()">&#10095;</button>
                </div>
                <div class="room-info">
                    <h3 th:text="${user.hotel.hotelName}">Hotel Name</h3>
                    <p><strong>Address:</strong> <span th:text="${room.hotel.address}"></span></p>
                    <p><strong>Rating:</strong> <span th:text="${room.hotel.rate}"></span> stars</p>
                    <p><strong>Price:</strong> <span th:text="${#numbers.formatCurrency(room.price)}"></span> /night</p>
                    <p><strong>Capacity:</strong> <span th:text="${room.capacity}"></span> guests</p>
                    <p><strong>Type:</strong> <span th:text="${room.roomType.typeName}"></span></p>
                    <p><strong>Status:</strong> <span th:text="${room.status.statusName}"></span></p>
                    <p><strong>Description:</strong> <span th:text="${room.description}"></span></p>
                    <div class="btn-container">
                        <button class="btn btn-primary"
                                th:onclick="'window.location.href=' + @{/update_room/{id}(id=${room.id})}">Edit
                        </button>
                        <button class="btn btn-secondary" th:onclick="'window.location.href=' + @{/room_list}">Cancel
                        </button>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        function toggleDropdown() {
            document.querySelector(".dropdown-menu").classList.toggle("show");
        }
        document.addEventListener("click", function(event) {
            let dropdown = document.querySelector(".dropdown-menu");
            let userMenu = document.querySelector(".user-menu");
            if (!userMenu.contains(event.target)) {
                dropdown.classList.remove("show");
            }
        });
    </script>
</body>
</html>
